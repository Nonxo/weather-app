(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{121:function(e,t,a){},122:function(e,t,a){},252:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(27),o=a.n(c),i=(a(121),a(122),a(29)),s=a(14),u=a(281),l=a(255),d=a(256),b=a(278),j=a(4),h=Object(l.a)({root:{width:300,backgroundColor:"transparent"}}),p=function(){var e=h();return Object(j.jsx)(n.a.Fragment,{children:Object(j.jsxs)("div",{className:e.root,children:[Object(j.jsx)(b.a,{}),Object(j.jsx)(b.a,{animation:!1}),Object(j.jsx)(b.a,{animation:"wave"})]})})},x=a(283),f=a(285),g=a(282),O=a(21),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:e,payload:t}},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:e,data:t}},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:e,error:t}},y="FETCH_WEATHER_DATA",T="FETCH_WEATHER_DATA_SUCCESS",C="FETCH_WEATHER_DATA_ERROR",P="FETCH_WEATHER_PAGINATION",D="FETCH_WEATHER_BY_DATE",E=a(279),_=a(286),S=Object(E.a)((function(e){return{root:{"& > *":{marginTop:e.spacing(0)}}}})),H=function(e){var t=e.pageCount,a=e.gotoPage,n=e.pageSize,c=Object(r.useState)(1),o=Object(i.a)(c,2),s=o[0],u=o[1],l=S();return Object(j.jsx)("div",{className:l.root,children:Object(j.jsx)(_.a,{count:t||1,variant:"outlined",color:"primary",size:"large",page:s,onChange:function(e,t){u(t),a(t,n)}})})},k=a(108),F=function(e){var t=e.tempType,a=Object(O.c)((function(e){return e.Weather})),r={labels:a.weatherPerHour.length>0?a.weatherPerHour.map((function(e){return e.dt})):[],datasets:[{label:"Temperatures in ".concat("metric"===t?"Celsius":"Fahrenheit"),data:a&&a.weatherPerHour.length>0?a.weatherPerHour.map((function(e){return Math.round(e.temp)})):[],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]};return Object(j.jsx)(n.a.Fragment,{children:Object(j.jsx)(k.a,{data:r,options:{showScale:!0,pointDot:!0,showLines:!1,scales:{yAxes:[{ticks:{beginAtZero:!0,min:0,max:100}}]}}})})},A=a(288),N=a(280),W=a(254),R=Object(E.a)({root:{minWidth:200,background:"rgba(0, 0, 0, 0.1)",border:"none",borderRadius:"15px",marginRight:"30px",marginTop:"10px",cursor:"pointer","&:hover":{background:"linear-gradient(to right, #00416a, #e4e5e6)",boxShadow:"5px 3px 10px 0px rgba(0,0,0,0.5)"},"&:focus":{boxShadow:"5px 3px 10px 0px rgba(0,0,0,0.5)"}},active:{background:"linear-gradient(to right, #00416a, #e4e5e6)",boxShadow:"5px 3px 10px 0px rgba(0,0,0,0.5)"},title:{fontSize:14,color:"#fff",textShadow:"2px 2px 2px rgba(150, 150, 150, 0.5)"},text:{color:"#fff",textShadow:"2px 2px 2px rgba(150, 150, 150, 0.7)"},icon:{display:"flex",justifyContent:"flex-start"}}),I=function(e){var t=e.tempType,a=Object(O.c)((function(e){return e.Weather})),c=Object(r.useState)({}),o=Object(i.a)(c,2),s=o[0],u=o[1],l=Object(O.b)(),d=R(),b=function(e){var t=function(e){return a.weatherPerDay.findIndex((function(t){return t.dt===e}))}(e),r=function(e){return a.weatherPerDay.find((function(t){return t.dt===e}))}(e);u(r),l(m(D,{start:8*t,end:8*t+8}))};return Object(j.jsx)(n.a.Fragment,{children:!a.loading&&a.weatherPerPage.map((function(e,r){return Object(j.jsx)(n.a.Fragment,{children:Object(j.jsx)(A.a,{className:s.dt===e.dt?"".concat(d.root," ").concat(d.active):d.root,variant:"outlined",onClick:function(){return b(e.dt)},children:Object(j.jsxs)(N.a,{children:[Object(j.jsxs)(W.a,{className:d.title,gutterBottom:!0,children:[a.data.city.name,","," ",a.data.city.country]}),"imperial"===t&&Object(j.jsx)(W.a,{variant:"h5",component:"h2",style:{color:"#fff",textShadow:"2px 2px 2px rgba(150, 150, 150, 0.5)"},children:Math.round(e.main.temp)+"\xb0F"}),"metric"===t&&Object(j.jsx)(W.a,{variant:"h5",component:"h2",className:d.text,children:Math.round(e.main.temp)+"\xb0C"}),Object(j.jsx)("img",{className:d.icon,src:"http://openweathermap.org/img/w/".concat(null===e||void 0===e?void 0:e.weather[0].icon,".png"),height:40,width:40,alt:"".concat(null===e||void 0===e?void 0:e.weather[0].main)}),Object(j.jsxs)(W.a,{variant:"body2",component:"div",display:"inline",className:d.text,children:[e.weather[0].description," ",Object(j.jsx)("br",{}),(c=e.dt_txt,new Date(c).toDateString())]})]})})},r+1);var c}))})},L=Object(l.a)({root:{minHeight:"100vh",overflow:"hidden",width:"100%",display:"flex",flexDirection:"column"},cards:{maxWidth:"100%",overflow:"auto"},chart:{maxWidth:"100%",maxHeight:"100%"}}),M=Object(d.a)({root:{color:"#041126","&$checked":{color:"#092654"}},checked:{}})((function(e){return Object(j.jsx)(f.a,Object(s.a)({color:"default"},e))})),z=function(){var e=Object(O.c)((function(e){return e.Weather})),t=Object(r.useState)("imperial"),a=Object(i.a)(t,2),c=a[0],o=a[1],s=Object(O.b)(),l=L(),d=function(e){o(e.target.value)};return Object(r.useEffect)((function(){s(m(y,c))}),[c]),Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(u.a,{}),Object(j.jsx)("div",{className:l.root,children:e.loading?Object(j.jsx)(x.a,{my:"auto",mx:"auto",children:Object(j.jsx)(p,{})}):Object(j.jsxs)(x.a,{display:"flex",flexDirection:"column",children:[Object(j.jsxs)(x.a,{display:"flex",flexDirection:"row",justifyContent:"space-around",m:3,children:[Object(j.jsx)(g.a,{value:"end",control:Object(j.jsx)(M,{checked:"metric"===c,onChange:d,value:"metric",name:"temp_celsius",inputProps:{"aria-label":"Celsius"}}),label:"Celsius"}),Object(j.jsx)(g.a,{value:"end",control:Object(j.jsx)(M,{checked:"imperial"===c,onChange:d,value:"imperial",name:"temp_fahrenheit",inputProps:{"aria-label":"Fahrenheit"}}),label:"Fahrenheit"})]}),Object(j.jsx)(x.a,{display:"flex",flexDirection:"row",justifyContent:"center",my:"auto",children:Object(j.jsx)(H,{pageCount:Math.ceil(e.total/3),gotoPage:function(e,t){s(m(P,{start:(e-1)*t,end:e*t}))},pageSize:3})}),Object(j.jsx)(x.a,{component:"div",display:"flex",flexDirection:"row",p:2,my:5,mx:"auto",className:l.cards,children:Object(j.jsx)(I,{tempType:c})}),Object(j.jsx)(x.a,{display:"flex",flexDirection:"row",mx:"auto",className:l.chart,children:Object(j.jsx)(F,{tempType:c})})]})})]})};var B=function(e){var t=e.store;return Object(j.jsx)(O.a,{store:t,children:Object(j.jsx)("div",{"data-testid":"app",className:"app",children:Object(j.jsx)(z,{})})})},J=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,290)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),r(e),n(e),c(e),o(e)}))},U=a(30),X=a(109),q=a(8),G=a(12),V=function(){var e=new Date;e.setHours(e.getHours()+e.getTimezoneOffset()/60);var t=new Date(e);return t.setHours(t.getHours()+2,t.getMinutes()+59,t.getSeconds()+59),{start:e,to:t}},Y=function(e){var t,a=[],r=Object(q.a)(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;a.push({dt:$(n.dt_txt),temp:n.main.temp});var c=new Date(n.dt_txt).getTime();V().start.getTime()<=c&&V().to.getTime()}}catch(o){r.e(o)}finally{r.f()}return a},Z=function(e){for(var t=[],a=0;a<e.length;a+=8)t.push(e[a]);return t},$=function(e){var t=new Date(e).toTimeString().split(" ")[0];return t.split(":")[0]+":"+t.split(":")[1]},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{},weatherList:[],weatherPerPage:[],weatherPerHour:[],weatherPerDay:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case T:return Object(s.a)(Object(s.a)({},e),{},{data:t.data,weatherList:t.data.list});case C:return Object(s.a)(Object(s.a)({},e),{},{error:t.error,loading:!1});case P:return Object(s.a)(Object(s.a)({},e),{},{loading:!1,weatherPerPage:Z(Object(G.a)(e.data.list)).slice(t.payload.start,t.payload.end),weatherPerDay:Z(Object(G.a)(e.data.list)),total:Z(Object(G.a)(e.data.list)).length});case D:return Object(s.a)(Object(s.a)({},e),{},{loading:!1,weatherPerHour:Y(Object(G.a)(e.weatherList).slice(t.payload.start,t.payload.end))});default:return e}},Q=Object(U.b)({Weather:K}),ee=a(31),te=a.n(ee),ae=a(107),re=a.n(ae),ne=function(e){return re.a.get("http://api.openweathermap.org/data/2.5/forecast?q=Munich,de&units=".concat(e,"&APPID=32946e5f4d8174ff9b9dccb19bd0fefe&cnt=40")).then((function(e){return e}))},ce=a(22),oe=te.a.mark(se),ie=te.a.mark(ue);function se(e){var t;return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(ce.b)(ne,e.payload);case 3:if(200!==(t=a.sent).status){a.next=13;break}return a.next=7,Object(ce.c)(v(T,t.data));case 7:return a.next=9,Object(ce.c)(m(P,{start:0,end:3}));case 9:return a.next=11,Object(ce.c)(m(D,{start:0,end:8}));case 11:a.next=15;break;case 13:return a.next=15,Object(ce.c)(w(C,"No weather to show"));case 15:a.next=21;break;case 17:return a.prev=17,a.t0=a.catch(0),a.next=21,Object(ce.c)(w(C,a.t0));case 21:case"end":return a.stop()}}),oe,null,[[0,17]])}function ue(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.d)(y,se);case 2:case"end":return e.stop()}}),ie)}var le=te.a.mark(de);function de(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.a)([ue()]);case 2:case"end":return e.stop()}}),le)}var be=de,je=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||U.c,he=Object(X.a)(),pe=Object(U.d)(Q,je(Object(U.a)(he)));he.run(be);var xe=pe;o.a.render(Object(j.jsx)(B,{store:xe}),document.getElementById("root")),J()}},[[252,1,2]]]);
//# sourceMappingURL=main.70894467.chunk.js.map